<nav class="navbar navbar-default" role="navigation">
    <div class="container-fluid">
        <div class="navbar-header">
            <a class="navbar-brand" href="{{ path('ongr_admin_homepage') }}">ONGR Admin</a>
        </div>
        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
            {% block search %}
                {% if filters.term_search is defined %}
                    {% set search = filters.term_search.search %}
                    <form class="navbar-form navbar-right" role="search" method="get" action="{{ path('ongr_admin_settings_list', routeParams) }}">
                        <div class="form-group">
                            <input type="text" class="form-control" name="q" value="{% if search is defined %}{{ search.value }}{% endif %}" placeholder="{% if search is defined %}{{ search.caption | trans }}{% else %}Search{% endif %}" autocomplete="off">
                        </div>
                        <button type="submit" class="btn btn-default"><span class="glyphicon glyphicon-search"></span></button>
                    </form>
                {% endif %}
            {% endblock %}
            {% block sort %}
                {% if filters.sort is defined %}
                    {% set sort = filters.sort.sort %}
                    <ul class="nav navbar-nav navbar-right">
                        <li class="dropdown">
                            <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                                {{ sort.caption }}
                                {% for option in sort.options %}
                                    {% if option.active or sort.active==false and option.default %}: {{ option.title }}{% endif %}
                                {% endfor %}
                                <span class="caret"></span>
                            </a>
                            <ul class="dropdown-menu">
                                {% for option in sort.options %}
                                    {% if option.default and sort.active == false %}
                                        {# Nothing to display #}
                                    {% elseif option.active == false %}
                                        <li><a href="{{ path('ongr_admin_settings_list', option.link) }}">{{ option.title }}</a></li>
                                    {% endif %}
                                {% endfor %}
                            </ul>
                    </ul>
                {% endif %}
            {% endblock %}
            {% block domain_choice %}
                {% if filters.domain is defined %}
                    {% set domain = filters.domain.domain %}
                    <ul class="nav navbar-nav navbar-right">
                        <li class="dropdown">
                            <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                                {{ domain.caption }}: {{ domain.activeValue }}
                                <span class="caret"></span>
                            </a>
                            {% if domain.values|length > 1%}
                                <ul class="dropdown-menu">
                                    {% for value in domain.values %}
                                        {% if not value.active %}
                                            <li><a href="{{ path('ongr_admin_settings_list', value.link) }}">{{ value.value }}</a></li>
                                        {% endif %}
                                    {% endfor %}
                                </ul>
                            {% endif %}
                    </ul>
                {% endif %}
            {% endblock %}
            {% block buttons %}
                {% if app.request.attributes.get('_route') != "ongr_admin_setting_edit" %}
                    <div class="nav navbar-nav">
                        <button class="btn btn-default navbar-btn" ng-click="addSetting()" href="#">Add setting</button>
                    </div>
                {% endif %}
            {% endblock %}
            {% if not filters is defined %}
                <div class="nav navbar-nav navbar-right">
                    <a class="btn btn-default navbar-btn" href="{{ path('ongr_admin_settings_list') }}">{{ 'Settings List'|trans }}</a>
                </div>
            {% endif %}
        </div>
    </div>
</nav>
